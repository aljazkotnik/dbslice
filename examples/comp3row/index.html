
<!DOCTYPE html>

<html>


<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> 
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css">
<link rel="stylesheet" href="http://dbslice.org/dbslice.css">

<link rel="icon" type="image/x-icon" href="/favicon.ico"/>




</head>

<body>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js"></script>
  
<script src="https://d3js.org/d3.v4.min.js"></script>
<script src="https://cdn.rawgit.com/crossfilter/crossfilter/master/crossfilter.js"></script>
<script src="https://threejs.org/build/three.js"></script>

<script src="https://threejs.org/examples/js/controls/OrbitControls.js"></script>

<script src="https://d3js.org/d3-contour.v1.min.js"></script>
<script src="https://d3js.org/d3-scale-chromatic.v1.min.js"></script>

<!-- Tooltip code -->
<script src="http://dbslice.org/d3-tip.js"></script>


<!-- dbslice source data -->
<script type='text/javascript' src="/build/dbslice.js"></script>



<div class="container-fluid" id="target"> </div>



<script>


d3.json( "./metadata.json" , function( metaData ) {

    // cfData is created here, and then not changed!
    var cfData = dbslice.cfInit( metaData );

    // Cannot yet start with a completely blank page!! This is because the data is internally stored on the render command.
    var plots = [];

	var plot = { 
        plotFunc : dbslice.cfD3BarChart, 
        layout : { title : "Design", colWidth : 4, height : 300 }, 
        data : { cfData : cfData, xProperty : "Design"}
    };
    plots.push(plot);
	
 
    // addButton will have it's onclick set by its type!! It's important its 'addButton'!!
	// The buttons should be specified in the session object, because otherwise even the plotRows showing the selected instances for detailed data will have them! That might not be too bad - gives the opportunity to hand add a specific data point.
    var session = { 
        title : "Axial compressor stator design",
        plotRows : [ 
            { title : "Database overview" , plots : plots, headerButton : {id : "addMetadataPlotButton0", label : "Add", type:"addMetadataPlotButton"} }
        ]
    };

    dbslice.render ("target", session, { plotTasksButton : true } );



});








</script>

</body>
</html>